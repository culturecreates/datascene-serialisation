{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "$id": "https://datascene.ca/representation.schema.json",
  "title": "Representation",
  "description": "Décrit une représentation, qui est un événement unique associé à un lieu, une date et une heure, et qui peut inclure des informations sur les artistes, les œuvres présentées, et d'autres détails pertinents.",
  "required": [
    "type",
    "identifiant",
    "spectacle",
    "début"
  ],
  "type": "object",
  "properties": {
    "@context": {
      "type": "string",
      "const": "https://datascence.ca/context.jsonld"
    },
    "type": {
      "const": "Representation"
    },
    "identifiant": {
      "description": "Énumération des identifiants connus.",
      "$ref": "./utilitaires/identifiant.schema.json"
    },
    "spectacle":{
      "description": "Identification du spectacle dont fait partie la représentation",
      "$ref": "./spectacle.schema.json"
    },
    "série":{
      "type": "array",
      "items": {
        "$ref": "./serie.schema.json"
      },
      "description": "Identification des séries desquelles fait partie le spectacle"
    },
    "début": {
      "type": "string",
      "format": "date-time",
      "description": "Date et heure de début de la représentation"
    },
    "fin": {
      "type": "string",
      "format": "date-time",
      "description": "Date et heure de fin de la représentation"
    },
    "durée": {
      "type": "string",
      "description": "Durée de la représentation",
      "minimum": 1
    },
    "devaitPrécédemmentDébuter": {
      "type": "integer",
      "description": "Date et heure de début initialement prévus pour la représentation, dans le cas où il s'agit d'une représentation reportée."
    },
    "entracte": {
      "type": "boolean",
      "description": "Indique la présence d'une ou plusieurs entractes"
    },
    "supplémentaire":{
      "type": "boolean",
      "description": "Indique si la représentation est une représentation supplémentaire"
    },
    "description": {
      "type": "array",
      "items": {
        "$ref": "./types/texteMultilingue.schema.json"
      },
      "description": "Propriété utilisée seulement si la description de la représentation est différente de celle du spectacle. Si elle est identique, il est recommandé de ne pas utiliser cette propriété. Les consignes d'utilisation de la classe Spectacle s'appliquent."
    },
    "descriptionCourte":{
      "description": "Propriété utilisée seulement si la description courte de la représentation est différente de celle du spectacle. Si elle est identique, il est recommandé de ne pas utiliser cette propriété. Les consignes d'utilisation de la classe Spectacle s'appliquent.",
      "type": "string",
      "allOf": [
        { "$ref": "./types/texteMultilingue.schema.json" },
        {
          "type": "string",
          "minLength": 200,
          "maxLength": 400
        }
      ]
    },
    "médias":{
      "description": "Éléments médiatiques (photo, audio, audiovidéo, articles, documents...) supplémentaires associés à la représentation, lorsqu'ils sont disponibles et qu'il n'est pas possible de les associer au spectacle. Les consignes d'utilisation de la classe Spectacle s'appliquent.",
      "type": "array",
      "items": {
        "$ref": "./utilitaires/média.schema.json"
      }
    },
    "autreNom":{
      "description": "Propriété utilisée seulement si l'autre nom de la représentation est différente de celle du spectacle. Si elle est identique, il est recommandé de ne pas utiliser cette propriété. Les consignes d'utilisation de la classe Spectacle] s'appliquent",
      "$ref": "./types/texteMultilingue.schema.json"
    },
    "url": {
      "description": "Propriété utilisée seulement si l'URL associée à la représentation est différente de celle du spectacle. Ne pas confondre à l'URL de billetterie de la section concernant les offres. Les consignes d'utilisation de la classe Spectacle s'appliquent.",
      "$ref": "./types/url.schema.json"
    },
    "contributionsSupplémentaires":{
      "type": "array",
      "items": {
        "$ref": "./types/contribution.schema.json"
      },
      "description": "Contributions à la représentation qui ne sont pas documentées dans le spectacle. Les contributions de la représentation sont donc l'ajout des contributions du spectacle et des contributions supplémentaires, desquelles ont retire les contributions retirées."
    },
    "contributionsRetirées":{
      "type": "array",
      "items": {
        "$ref": "./utilitaires/contribution.schema.json"
      },
      "description": "Contributions documentées dans le spectacle qui ne s'appliquent pas à la représentation. Les contributions de la représentation sont donc l'ajout des contributions du spectacle et des contributions supplémentaires, desquelles ont retire les contributions retirées"
    },
    "offres":{
      "type": "array",
      "items": {
        "$ref": "./types/offre.schema.json"
      },
      "description": "Description des différentes modalités pour assister à la représentation. Il peut y avoir des modalités pour le présentiel et/ou le virtuel. Les modalités pour le présentiel et le virtuel doivent être documentées pour un spectacle hybride. Une représentation contient donc au maximum deux offres."
    }
  }
}